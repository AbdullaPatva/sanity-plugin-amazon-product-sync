import { defineType, defineField } from 'sanity';
import { AmazonSettingsActions } from '../inputs/AmazonSettingsActions';
export const amazonSettingsSchema = defineType({
    name: 'amazon.settings',
    title: 'Amazon Settings',
    type: 'document',
    groups: [
        { name: 'api', title: 'API Configuration' },
        { name: 'display', title: 'Display Settings' },
        { name: 'actions', title: 'Actions' },
    ],
    fields: [
        defineField({
            name: 'region',
            title: 'Amazon Region',
            type: 'string',
            group: 'api',
            options: {
                list: [
                    { title: 'US (default)', value: 'com' },
                    { title: 'Australia', value: 'com.au' },
                    { title: 'Belgium', value: 'com.be' },
                    { title: 'Brazil', value: 'com.br' },
                    { title: 'Canada', value: 'ca' },
                    { title: 'Egypt', value: 'eg' },
                    { title: 'France', value: 'fr' },
                    { title: 'Germany', value: 'de' },
                    { title: 'India', value: 'in' },
                    { title: 'Italy', value: 'it' },
                    { title: 'Japan', value: 'co.jp' },
                    { title: 'Mexico', value: 'com.mx' },
                    { title: 'Netherlands', value: 'nl' },
                    { title: 'Poland', value: 'pl' },
                    { title: 'Singapore', value: 'sg' },
                    { title: 'Saudi Arabia', value: 'sa' },
                    { title: 'Spain', value: 'es' },
                    { title: 'Sweden', value: 'se' },
                    { title: 'Turkey', value: 'com.tr' },
                    { title: 'United Arab Emirates', value: 'ae' },
                    { title: 'United Kingdom', value: 'co.uk' }
                ],
            },
            initialValue: 'com',
            validation: (r) => r.required(),
        }),
        defineField({
            name: 'accessKey',
            title: 'PA-API Access Key',
            type: 'string',
            group: 'api',
            description: 'Enter your Amazon API Access Key to authenticate API requests.',
            validation: (r) => r.required(),
        }),
        defineField({
            name: 'secretKey',
            title: 'PA-API Secret Key',
            type: 'string',
            group: 'api',
            description: 'Enter your Amazon API Secret Key for secure access to the API.',
            validation: (r) => r.required(),
        }),
        defineField({
            name: 'partnerTag',
            title: 'Associate Tag (Partner Tag)',
            type: 'string',
            group: 'api',
            description: 'Enter your Amazon Partner Tag for tracking and attribution in the affiliate program.',
            validation: (r) => r.required(),
        }),
        defineField({
            name: 'asinNumber',
            title: 'Enter random ASIN Number',
            type: 'string',
            group: 'api',
            description: 'From Amazon product\'s page add ASIN number of any product for testing API connection.',
            validation: (r) => r.required(),
        }),
        defineField({
            name: 'cacheHours',
            title: 'Cache Duration (hours)',
            type: 'number',
            group: 'api',
            initialValue: 24,
            validation: (r) => r.min(1).max(168),
        }),
        // Field Display Settings
        defineField({
            name: 'showProductTitle',
            title: 'Show Product Title',
            type: 'boolean',
            group: 'display',
            initialValue: true,
        }),
        defineField({
            name: 'showProductImage',
            title: 'Show Product Image',
            type: 'boolean',
            group: 'display',
            initialValue: true,
        }),
        defineField({
            name: 'showProductFeatures',
            title: 'Show Product Features',
            type: 'boolean',
            group: 'display',
            initialValue: true,
        }),
        defineField({
            name: 'showProductPrice',
            title: 'Show Product Price',
            type: 'boolean',
            group: 'display',
            initialValue: true,
        }),
        defineField({
            name: 'showCtaLink',
            title: 'Show CTA Link',
            type: 'boolean',
            group: 'display',
            initialValue: true,
        }),
        // Actions (modern: dedicated field component)
        defineField({
            name: 'settingsActions',
            title: 'Actions',
            type: 'string',
            group: 'actions',
            components: {
                input: AmazonSettingsActions,
            },
            options: { layout: 'none' },
        }),
    ],
    preview: {
        prepare: () => ({
            title: 'Amazon Settings',
        }),
    },
});
